<!DOCTYPE html>
<html>
<head>
<style>
body {
  margin: 0;
  overflow: hidden;
}

.box {
  position: absolute;
  width: 200px;
  height: 200px;
  background: red;
  animation: move 2s infinite alternate;
  box-shadow: 0 0 50px black;
  filter: blur(5px);
}

@keyframes move {
  from { left: 0px; }
  to { left: 800px; }
}
</style>
</head>
<body>

<div id="fps"></div>
<div id="cpu"></div>

<script>
for (let i = 0; i < 100; i++) {
  const div = document.createElement("div");
  div.className = "box";
  div.style.top = i * 10 + "px";
  document.body.appendChild(div);
}

// JS bottleneck
setInterval(() => {
  for (let i = 0; i < 1000000; i++) {}
}, 100);



let last = performance.now();
let frames = 0;

function fpsMeter() {
  frames++;
  let now = performance.now();

  if (now - last >= 1000) {
    document.getElementById("fps").innerText = "FPS: " + frames;
    frames = 0;
    last = now;
  }

  requestAnimationFrame(fpsMeter);
}
fpsMeter();
</script>

</body>
</html>
